# Use latest stable Node.js image
FROM node:lts

# Create and set working directory
WORKDIR /app

# Copy package.json and install dependencies
COPY package.json ./
RUN npm install

# Copy all other files
COPY . .

# Install PM2 globally
RUN npm install -g pm2

# Optional: expose port for web apps (not needed for WhatsApp bot)
EXPOSE 9090

# Start the bot with PM2
CMD ["pm2-runtime", "index.js"]
